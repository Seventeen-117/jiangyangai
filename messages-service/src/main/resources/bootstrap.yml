# Spring Cloud Bootstrap配置
# 此文件在application.yml之前加载，用于配置配置中心、注册中心等

spring:
  application:
    name: messages-service
  
  # 配置中心配置（Nacos）
  cloud:
    nacos:
      config:
        # Nacos配置中心地址
        server-addr: ${NACOS_SERVER_ADDR:8.133.246.113:8848}
        # 配置文件的data-id
        name: ${spring.application.name}
        # 配置文件格式
        file-extension: yml
        # 配置分组
        group: ${NACOS_CONFIG_GROUP:JIANGYANG}
        # 命名空间
        namespace: ${NACOS_NAMESPACE:}
        # 是否自动刷新
        refresh-enabled: true
        # 配置超时时间
        timeout: 3000
        # 配置重试次数
        retry-count: 3
        # 长轮询超时时间
        long-poll-timeout: 46000
        # 配置监听器长轮询超时时间
        config-long-poll-timeout: 46000
        # 配置重试时间
        config-retry-time: 20000
        # 是否启用配置监听
        enable-remote-sync-config: true
      
      # 注册中心配置（Nacos）
      discovery:
        # Nacos注册中心地址
        server-addr: ${NACOS_SERVER_ADDR:8.133.246.113:8848}
        # 服务分组
        group: ${NACOS_DISCOVERY_GROUP:JIANGYANG}
        # 命名空间
        namespace: ${NACOS_NAMESPACE:}
        # 是否启用服务注册
        enabled: true
        # 是否启用服务发现
        register-enabled: true
        # 服务实例权重
        weight: 1
        # 是否启用健康检查
        health-check-enabled: true
        # 健康检查超时时间
        health-check-timeout: 3000
        # 健康检查间隔时间
        health-check-interval: 10000
        # 心跳间隔时间
        heart-beat-interval: 5000
        # 心跳超时时间
        heart-beat-timeout: 15000
        # 实例IP删除超时时间
        ip-delete-timeout: 30000
        # 实例心跳超时时间
        instance-heart-beat-timeout: 15000
        # 实例心跳间隔时间
        instance-heart-beat-interval: 5000
        # 实例IP删除超时时间
        instance-ip-delete-timeout: 30000

